/***********************************************
> 应用名称：墨鱼自用小红书去广告脚本
> 脚本作者：@ddgksf2013
> 微信账号：墨鱼手记
> 更新时间：2024-11-06
> 通知频道：https://t.me/ddgksf2021
> 贡献投稿：https://t.me/ddgksf2013_bot
> 问题反馈：ddgksf2013@163.com
> 特别提醒：如需转载请注明出处，谢谢合作！
***********************************************/




const version = 'V1.0.16';
const $ = new Env("小红书");
var _0xodG='jsjiami.com.v7';const _0x4686d4=_0x5ec8;(function(_0x3697b4,_0x244378,_0x3ea3a2,_0x53421b,_0x170ea0,_0x568a2f,_0x1a5a8a){return _0x3697b4=_0x3697b4>>0x8,_0x568a2f='hs',_0x1a5a8a='hs',function(_0x43d023,_0x5bafd4,_0x2db1c1,_0x103481,_0x52dad2){const _0x15f9c2=_0x5ec8;_0x103481='tfi',_0x568a2f=_0x103481+_0x568a2f,_0x52dad2='up',_0x1a5a8a+=_0x52dad2,_0x568a2f=_0x2db1c1(_0x568a2f),_0x1a5a8a=_0x2db1c1(_0x1a5a8a),_0x2db1c1=0x0;const _0x4b8f55=_0x43d023();while(!![]&&--_0x53421b+_0x5bafd4){try{_0x103481=-parseInt(_0x15f9c2(0xf5,'ep(s'))/0x1+-parseInt(_0x15f9c2(0xd4,'f#^i'))/0x2*(parseInt(_0x15f9c2(0x9f,'83gf'))/0x3)+-parseInt(_0x15f9c2(0x11a,'3qgU'))/0x4+parseInt(_0x15f9c2(0xf7,'*9Kk'))/0x5+parseInt(_0x15f9c2(0xf2,'a*T6'))/0x6*(parseInt(_0x15f9c2(0x103,'x&JM'))/0x7)+-parseInt(_0x15f9c2(0x87,'RrfX'))/0x8+parseInt(_0x15f9c2(0xac,'*[kr'))/0x9;}catch(_0x12c773){_0x103481=_0x2db1c1;}finally{_0x52dad2=_0x4b8f55[_0x568a2f]();if(_0x3697b4<=_0x53421b)_0x2db1c1?_0x170ea0?_0x103481=_0x52dad2:_0x170ea0=_0x52dad2:_0x2db1c1=_0x52dad2;else{if(_0x2db1c1==_0x170ea0['replace'](/[gqUyBWkxeVPSrlLEdGDI=]/g,'')){if(_0x103481===_0x5bafd4){_0x4b8f55['un'+_0x568a2f](_0x52dad2);break;}_0x4b8f55[_0x1a5a8a](_0x52dad2);}}}}}(_0x3ea3a2,_0x244378,function(_0x1d707e,_0x592b0f,_0xd7c09,_0x215da4,_0x12755d,_0x25a9cf,_0x2a1c56){return _0x592b0f='\x73\x70\x6c\x69\x74',_0x1d707e=arguments[0x0],_0x1d707e=_0x1d707e[_0x592b0f](''),_0xd7c09='\x72\x65\x76\x65\x72\x73\x65',_0x1d707e=_0x1d707e[_0xd7c09]('\x76'),_0x215da4='\x6a\x6f\x69\x6e',(0x18ab45,_0x1d707e[_0x215da4](''));});}(0xc900,0x803d6,_0x3f18,0xcb),_0x3f18)&&(_0xodG=0xb8);$[_0x4686d4(0xcc,'*[kr')]='redbook_user_photo_key';let body=$response['body'];function _0x5ec8(_0x450abc,_0x2b1f08){const _0x3f1848=_0x3f18();return _0x5ec8=function(_0x5ec8da,_0x38f6b0){_0x5ec8da=_0x5ec8da-0x72;let _0x21c69f=_0x3f1848[_0x5ec8da];if(_0x5ec8['acmSno']===undefined){var _0xb35ee3=function(_0x21eded){const _0xc3512e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x29043f='',_0x2b6cae='';for(let _0x56b07f=0x0,_0x549b75,_0x5a2dab,_0x1a9d8b=0x0;_0x5a2dab=_0x21eded['charAt'](_0x1a9d8b++);~_0x5a2dab&&(_0x549b75=_0x56b07f%0x4?_0x549b75*0x40+_0x5a2dab:_0x5a2dab,_0x56b07f++%0x4)?_0x29043f+=String['fromCharCode'](0xff&_0x549b75>>(-0x2*_0x56b07f&0x6)):0x0){_0x5a2dab=_0xc3512e['indexOf'](_0x5a2dab);}for(let _0xeb3825=0x0,_0x626ac3=_0x29043f['length'];_0xeb3825<_0x626ac3;_0xeb3825++){_0x2b6cae+='%'+('00'+_0x29043f['charCodeAt'](_0xeb3825)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2b6cae);};const _0x437fd1=function(_0x1b415a,_0x6a0151){let _0x22c519=[],_0x471e5c=0x0,_0x429a11,_0x2c4cd1='';_0x1b415a=_0xb35ee3(_0x1b415a);let _0x51f9fb;for(_0x51f9fb=0x0;_0x51f9fb<0x100;_0x51f9fb++){_0x22c519[_0x51f9fb]=_0x51f9fb;}for(_0x51f9fb=0x0;_0x51f9fb<0x100;_0x51f9fb++){_0x471e5c=(_0x471e5c+_0x22c519[_0x51f9fb]+_0x6a0151['charCodeAt'](_0x51f9fb%_0x6a0151['length']))%0x100,_0x429a11=_0x22c519[_0x51f9fb],_0x22c519[_0x51f9fb]=_0x22c519[_0x471e5c],_0x22c519[_0x471e5c]=_0x429a11;}_0x51f9fb=0x0,_0x471e5c=0x0;for(let _0x31f347=0x0;_0x31f347<_0x1b415a['length'];_0x31f347++){_0x51f9fb=(_0x51f9fb+0x1)%0x100,_0x471e5c=(_0x471e5c+_0x22c519[_0x51f9fb])%0x100,_0x429a11=_0x22c519[_0x51f9fb],_0x22c519[_0x51f9fb]=_0x22c519[_0x471e5c],_0x22c519[_0x471e5c]=_0x429a11,_0x2c4cd1+=String['fromCharCode'](_0x1b415a['charCodeAt'](_0x31f347)^_0x22c519[(_0x22c519[_0x51f9fb]+_0x22c519[_0x471e5c])%0x100]);}return _0x2c4cd1;};_0x5ec8['PaOvXr']=_0x437fd1,_0x450abc=arguments,_0x5ec8['acmSno']=!![];}const _0x45cc0c=_0x3f1848[0x0],_0x1b8155=_0x5ec8da+_0x45cc0c,_0x36bceb=_0x450abc[_0x1b8155];return!_0x36bceb?(_0x5ec8['JklrDp']===undefined&&(_0x5ec8['JklrDp']=!![]),_0x21c69f=_0x5ec8['PaOvXr'](_0x21c69f,_0x38f6b0),_0x450abc[_0x1b8155]=_0x21c69f):_0x21c69f=_0x36bceb,_0x21c69f;},_0x5ec8(_0x450abc,_0x2b1f08);}function _0x3f18(){const _0x3aad37=(function(){return[_0xodG,'DVjkWsqjWigGaxmIliS.gPrcdkoUmqe.lBvEyI7L==','W4BcHmoMW5GjEs7cJSkYbmkR','f1jZFCkJWR9wt8kU','aeD1Dq','WPmzW6ioWP7dMYtcMI/cJa','aL7cO2DIt0meWO9OW4DPqJtdMG','W6iod8o3WP5jW4X8re7cSwlcO8oPWPtcS3O','rYZcMmkHpZmryGRcRCojvmk5vCoWW6u/','FNCVW4xdVCkltweJvXVcQG','WO1GW6TwWRlcISotFmoo','WR3dQSoVgSkTjHTPWPOo','W5RcM8oR','W4lcJmoJW5ynvqlcG8kTeSkaWPbUW7OVk8oo','FSoMW4fzDZJcOW','AXzRW4SK','WRrFnmkKWQFdV8ovW4DnlSky','ifRcTvzO','iSkcWPuoWPJdQH9wEa','WQvEsmoGW6RdTHBcTmklW4RcPColW6u','W7FcGSkSW6mnWOZcR20KAhn0wqC','q8oZAmoGAq','iJLQirOUWQxdHbVcH1m','W7PFWP/cR2RcJHJdS8kcWO0','WO4EW7CzWQtdQctcHZ0','dSk7WOS','vMBdRSoXW7zXW4ypcCk8W4ddOcpdPW','W7hcLCkH','DwCSW4pdLSksq2WxuXlcU8osWQRdOmkv','b8kSF8o/W6HPW5ddN8kDW7WKlKddOmooWQvqW7BcJSkWfSoYBIbYACkFhYa+5Pkl57AW566m6k6gjCkH','wt3cJSkHmaSlzqu','WOb3WRS','W7dcLCkOW78kWO3dRMrXpa','eCkKF8o/W7K','cWhcRLNcPa','qIJcJ8kxlaKoyGJcRCoYAmkXvmo5W6GR','WQvqvSoAW77dTH/cSCorW5ZcQCo7W7ldMdZdPCo8','WQyuW5W','tSkQWPe','WOVcO8kIW5PD','it9V','tKddSbVdUCogW7PUsCoEpCox','deDYs8k/WR1tsmkJuCkGobldN8omW6JdSa','WRvhE1niW7TulmobW7BdVdOdFuxcQa','WRC+yCoGW6NdNmoy','W6dcHSk5W7aD','W5xdS8kVW50e','ivXZBN17mCotnhLV','tcfnW7i','ctFcUmkLWRuGW7GcpCkXW5/dHa','dCkQAG','WRhdOmkiW5pdTa','CauWpq','WQntz0nz','W79EWPRcUgdcJHFdUmkbWOBcI3z2W5G','WQRcPSk+W7y','zMaU','W6GOW5NcTXP9EahcUZ4','pmoqW71F','zXa2nsP2h8o4oW','WRPHhW'].concat((function(){return['sCo5W58Se2/cOCoBo8kIhqPh','WPPwuH5HW4ekmwe','5Pgq57Ah566A6k6h','c8kOWPvPrq','WRFcUComW4lcOa','WRZdKCo0WQfAW5dcTuqKuebYbW','WPH1W6H9','WR57WP3dRG','WQDxzKq','W4FcKSkgjaS','y3mWW5pdHW','W7ZcRmkTs8o6D0e5W5u','WR1yrSoXW7NdOrBcOW','WPP5W79SWQNcVCoFDq','WP9uqCohW6pdVbJcGmonW5BcUColW57dKIO','WRRdGSk6FXmEW4hdHmoPWPeu','WQJdMvO1WRznWQFcHY4','WOvSWRNdQam','sSoRpmoc','W6tcMSoRk0yEW6tdPCo4WRGd','fSkOWPrUrstdH8o2pmkH','W7VdOuJdVG','W73dNmoTW4v+WPeNAmkiW6NdOSoBgrXHlgCa','WQdcKmomWRv7jdLaE8kQW43cMG','WOH5WQJdPa','W7Kwd8oCWOLbW79UvvNcO1tcP8oJW4hdTW','bujYs8kQWQPqxmkNrW','bujY','W6NcLSo+lq','W7NcKSo5oa','WRHdsq','WRT2amoB','W7lcJSkPW7qbWRVdPMyUEhrMaeW','vwRdS8o4W617W5C','tCk4o18YESkIW7r/','W7xdLmoVW4e','cWhcOfNcTCkTW4HpFCop','m2ZcQuldL8kkvgFdHYq','sCoEW49gW4K','WPVcTCkGWOOX','W6pcGSk5W7upWPddOq','fCkGFSo4','W6pcT8k4','W4zWsmouW6nBWRRdJW','hHZcRv/cPmka','W6ygcSonWRnCW4HYreq','WRSyW5rpBJLXEIOpWR/dUSo3WPhdLmoMFa','WQqyW5XhEWnMrdSfWO/dVCoRWQddNmo6DG','kdnUiuLG','c8o8W7jBW7RcQCkg','vCoqW5O','rIJdTtCzWPlcR1rFWRhcKaq','WR5fv8oSW6ldTbRcTSoC','W74kd8oC','W5vdWRPoW4VcT3/cMcdcR8kFWPPU','u8o3pCk1WQWzWO7cM8ooWR8','xmoVjmocu8ktw8kcW6GthbxdPvTJaSko','fmk3yq','nCkSW5ddVmoBF8kVj8kvWO8Fhg0','f8kMWOa','gmkkAgC'].concat((function(){return['lSoNWQzrWQtdK0iGff8','oCkKW4pdTq','W6hdLmoPW5ne','WQNcQmoAW4lcR2ivW7fL','WQfEqG','W7ixB8o3W63dVConW6LunSkrnd9pqG','oYrN','W6ugD8o3','W7Coz8oZW7hdISo2W6vmnSkBmJKr','CGS2gsvYhG','W5TsWPRcN2dcVHRdJCkmWO3cNxHEW5BcGG','WOqPe8kwWQuqW6BdPmkkWOJcNmk/Bq','yhOJW5ldH8kKrwWUwq','W7FdGCko','khpcQeBdGSkh','WOvnrW','ceLM','dCoKBWTNFCkRWOmNWR3dMq','W55WrCouW4LEWRddJSkBWPq','WRnUWOZdOLa','fbRcPG','WR12h8ooWRldT8oNvqPmlmoyWQZcVmkbW53cOq','W7BcGSkHW7aAWOhdPfWSC3LJehGDl8kF','W7/dLSkIW6qNyW','v8o7ACo/zutcOG','ssJcImkToqmqAHNcU8kSfW','W6ycBCoZW6ZdTmoMW69KmCkApd8q','wcflW6ag','mSkzWPCEWQNdOr9EAG','rI9nW7y8W55sWPtcGG','Aa3dVHu5fb0tWOHlW6vZBq','WRBcS8op','W6ldKmoVW4raWPuU','xZVcKa','W7KBhCoAWPHZW5r0xu4','juSGW5BdLCkYzG','WP9KW6LGWQJcHCoFD8os','W7LwWOZcRMO','W7NcH8kTWPu','wmk3WPdcRmo5A8kZW4C','dSkoCgFcMCkgxNBcRCkWW5VdHKpdVCoYWQhdGq','WPXqta','qSoLlW','WR5zrmo3W6NdJbRcVSodW5y','W7TsWO7cSN3cPq','wSoMF8o+FW','WRWpW5q','W5NcKSkapHJdTghdGbJcLwfX','tIddTZm','i0/cTuXJr0eYWP4','W61wWORcVa','WOGyW60iW4hcPa','WOXmrcH7W48omG','r2RdPmoXW6T2W5CpmSoVWO0','wmoJlmogsmkPw8kYW7GshX7dT2a','WQxdL1O1WO5oWRZcNt8o','WPNcSCk+WPGGkmkyW4rPWPWnvabvg8kqWOy','pv7cO0XSF1S1WPfIW6XLzJ/dHrn4'];}()));}()));}());_0x3f18=function(){return _0x3aad37;};return _0x3f18();};if(body){switch(!![]){case/api\/sns\/v\d\/note\/widgets/['test']($request['url']):try{let obj=JSON[_0x4686d4(0xf9,'pcY^')](body);const propertiesToDelete=['1goods_card_v2','note_next_step'];for(const prop of propertiesToDelete){obj[_0x4686d4(0x11b,'sGMz')]?.[prop]&&delete obj[_0x4686d4(0x8d,'n5N0')][prop];}body=JSON[_0x4686d4(0xc9,'#R8n')](obj);}catch(_0x542895){console['log'](_0x4686d4(0x73,'83gf')+_0x542895);}break;case/api\/sns\/v\d\/note\/live_photo\/save/[_0x4686d4(0x120,'kOVi')]($request[_0x4686d4(0x121,'XHtA')]):try{let obj=JSON['parse'](body);obj[_0x4686d4(0xf6,')V@&')][_0x4686d4(0xf3,'8N[g')]=JSON[_0x4686d4(0xd7,'*[kr')]($[_0x4686d4(0x79,'8N[g')]($[_0x4686d4(0x98,'BUoV')])),body=JSON['stringify'](obj);}catch(_0x404bd8){console[_0x4686d4(0x92,'XHtA')]('live_photo:\x20'+_0x404bd8);}break;case/api\/sns\/v\d\/note\/comment\/list/[_0x4686d4(0x7a,'ch!2')]($request['url']):try{let obj=JSON['parse'](body);for(let module of obj[_0x4686d4(0xfa,'ep(s')][_0x4686d4(0xb5,'jLaH')]){if(module[_0x4686d4(0x10f,'XHtA')])for(let item of module[_0x4686d4(0x7c,'m)my')]){item[_0x4686d4(0x8e,'3HH0')]=item['url'],item[_0x4686d4(0x8a,'ch!2')]=item[_0x4686d4(0xcf,'ktyk')]['image_url'];}}body=JSON['stringify'](obj);}catch(_0x1beae5){console[_0x4686d4(0x9e,'#R8n')](_0x4686d4(0x84,'I%45')+_0x1beae5);}break;case/api\/sns\/v\d\/note\/redtube/[_0x4686d4(0x10b,'g[AP')]($request[_0x4686d4(0x94,'W5Kp')]):try{let obj=JSON[_0x4686d4(0x10c,'a(Ke')](body);for(let module of obj[_0x4686d4(0x95,'a*T6')][_0x4686d4(0xbb,'h77o')]){module['related_goods_num']&&(module[_0x4686d4(0xb6,'n5N0')]=0x0),module['has_related_goods']&&(module[_0x4686d4(0xf0,'#R8n')]=![]),module['media_save_config']&&(module[_0x4686d4(0xc7,'*[kr')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module[_0x4686d4(0xcb,'RrfX')]&&(module[_0x4686d4(0x9a,'ktyk')][_0x4686d4(0xf1,'g[AP')]=[{'type':_0x4686d4(0x96,'a*T6')},{'type':_0x4686d4(0xa8,'a*T6')},{'type':_0x4686d4(0xaa,'uPj&')},{'type':_0x4686d4(0xbd,'a(Ke')},{'type':'video_speed'},{'type':_0x4686d4(0xa6,'h77o')},{'type':_0x4686d4(0xba,'BUoV')},{'type':_0x4686d4(0xfc,'BUoV')}]);}body=JSON['stringify'](obj);}catch(_0x2b471d){console[_0x4686d4(0x83,'(NPj')]('redtube:\x20'+_0x2b471d);}break;case/api\/sns\/v\d\/note\/videofeed/['test']($request[_0x4686d4(0xaf,']nr9')]):try{let obj=JSON[_0x4686d4(0x106,'x&JM')](body);for(let module of obj[_0x4686d4(0xc0,'BUoV')]){module[_0x4686d4(0xa4,'8N[g')]&&(module[_0x4686d4(0x7f,'HyPG')]=0x0),module[_0x4686d4(0xea,'XHtA')]&&(module['has_related_goods']=![]),module[_0x4686d4(0xd3,'hu%U')]&&(module['media_save_config']={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module[_0x4686d4(0xb9,'XHtA')]&&(module[_0x4686d4(0xdd,'BUoV')][_0x4686d4(0xe2,'ktyk')]=[{'type':_0x4686d4(0xc4,')1Y3')},{'type':_0x4686d4(0xe0,'*9Kk')},{'type':'copy_link'},{'type':'native_voice'},{'type':'video_speed'},{'type':_0x4686d4(0x72,'*9Kk')},{'type':'report'},{'type':_0x4686d4(0x123,'8N[g')}]);}body=JSON[_0x4686d4(0x101,'ep(s')](obj);}catch(_0x2a4831){console[_0x4686d4(0xf8,'ch!2')](_0x4686d4(0xc3,'*9Kk')+_0x2a4831);}break;case/api\/sns\/v\d\/note\/feed/[_0x4686d4(0x120,'kOVi')]($request['url']):try{let obj=JSON[_0x4686d4(0xe7,'ch!2')](body);for(let module of obj['data']){module[_0x4686d4(0x89,')1Y3')]&&(module[_0x4686d4(0xc6,'Zq6T')]=0x0);module['has_related_goods']&&(module[_0x4686d4(0xcd,'OEX6')]=![]);if(module[_0x4686d4(0x113,'pFF2')])for(let item of module[_0x4686d4(0xab,')V@&')]){item[_0x4686d4(0xce,']nr9')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}}body=JSON[_0x4686d4(0x85,'XHtA')](obj);}catch(_0xf4965f){console[_0x4686d4(0xb8,')1Y3')](_0x4686d4(0x81,'W5Kp')+_0xf4965f);}break;case/api\/sns\/v\d\/note\/imagefeed/[_0x4686d4(0x86,'OEX6')]($request[_0x4686d4(0xb7,'%H)u')]):try{let obj=JSON[_0x4686d4(0xa9,')V@&')](body),datas=[];for(let module of obj['data']){module[_0x4686d4(0xa3,'r!Ga')]&&(module[_0x4686d4(0xa3,'r!Ga')]=0x0);module[_0x4686d4(0xe9,']nr9')]&&(module['has_related_goods']=![]);if(module[_0x4686d4(0xde,'RrfX')])for(let item of module['note_list']){item[_0x4686d4(0x80,'HyPG')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};if(item[_0x4686d4(0xc8,'hu%U')])for(let it of item[_0x4686d4(0x116,'kOVi')]){if(it['live_photo']){let idata={};idata['video_id']=it['live_photo']['media'][_0x4686d4(0x110,'cM#*')],idata['file_id']=it[_0x4686d4(0x119,'iYQQ')],idata[_0x4686d4(0xe1,'8N[g')]=it[_0x4686d4(0x7e,'OEX6')][_0x4686d4(0x107,'EIDe')]['stream'][_0x4686d4(0xb4,'iYQQ')][0x0][_0x4686d4(0x117,'x&JM')],datas[_0x4686d4(0x100,'f#^i')](idata);}}}}$[_0x4686d4(0xae,'iYQQ')](JSON['stringify'](datas),$[_0x4686d4(0x111,'XHtA')]),body=JSON['stringify'](obj);}catch(_0x22ab7b){console[_0x4686d4(0x9d,'%H)u')]('imagefeed:\x20'+_0x22ab7b);}break;case/api\/sns\/v\d\/homefeed\/categories\?/['test']($request[_0x4686d4(0xbc,'HyPG')]):try{let obj=JSON['parse'](body);obj[_0x4686d4(0x115,')1Y3')][_0x4686d4(0xc5,'pFF2')]=obj[_0x4686d4(0xca,'#R8n')]['categories']['filter'](_0x3c9347=>!(_0x3c9347[_0x4686d4(0xeb,'HyPG')]==_0x4686d4(0xd9,'XHtA')||_0x3c9347[_0x4686d4(0xee,'W5Kp')]=='homefeed.live')),body=JSON[_0x4686d4(0xe4,']nr9')](obj);}catch(_0x5f1f1f){console[_0x4686d4(0xad,'EIDe')](_0x4686d4(0xa7,']nr9')+_0x5f1f1f);}break;case/api\/sns\/v\d\/search\/hint/[_0x4686d4(0x109,'cM#*')]($request[_0x4686d4(0xec,'jLaH')]):try{let obj=JSON[_0x4686d4(0x78,'Zq6T')](body);obj[_0x4686d4(0x10a,'qOG4')]?.[_0x4686d4(0xa0,'m)my')]&&(obj[_0x4686d4(0x8f,'kGLG')]['hint_words']=[{'title':_0x4686d4(0x105,'f#^i'),'type':_0x4686d4(0xe3,'ch!2'),'search_word':'搜索笔记'}]),body=JSON[_0x4686d4(0xd8,'uPj&')](obj);}catch(_0xc4e7b9){console[_0x4686d4(0x8c,'x&JM')](_0x4686d4(0xc1,'RrfX')+_0xc4e7b9);}break;case/api\/sns\/v\d\/search\/hot_list/[_0x4686d4(0x122,'r!Ga')]($request[_0x4686d4(0xd2,'hu%U')]):try{let obj=JSON[_0x4686d4(0x10d,'ktyk')](body);obj['data']={'scene':'','title':'','items':[],'host':'','background_color':{},'word_request_id':''},body=JSON['stringify'](obj);}catch(_0x1de757){console['log']('hot_list:\x20'+_0x1de757);}break;case/api\/sns\/v\d\/search\/trending/['test']($request[_0x4686d4(0xdf,'x&JM')]):try{let obj=JSON[_0x4686d4(0xfb,'g[AP')](body);obj['data']={'title':'','queries':[],'type':'','word_request_id':''},body=JSON[_0x4686d4(0x104,'%H)u')](obj);}catch(_0x2b9654){console[_0x4686d4(0xe5,'sGMz')](_0x4686d4(0xe6,'8N[g')+_0x2b9654);}break;case/api\/sns\/v\d\/system_service\/splash_config/['test']($request[_0x4686d4(0x102,'r!Ga')]):try{let obj=JSON[_0x4686d4(0x77,'(NPj')](body);obj[_0x4686d4(0xfd,'Lo17')][_0x4686d4(0x11d,'#R8n')][_0x4686d4(0x97,'ep(s')](_0x44881f=>{const _0x4252d2=_0x4686d4,_0x19ae9d={'EdhMN':_0x4252d2(0x88,'ch!2')};_0x44881f[_0x4252d2(0xb0,'OEX6')]=_0x4252d2(0xff,'qOG4'),_0x44881f[_0x4252d2(0xc2,'%H)u')]=_0x19ae9d['EdhMN'],_0x44881f[_0x4252d2(0x9b,'3qgU')]&&_0x44881f['ads']['forEach'](_0x2452d3=>{const _0x2698cf=_0x4252d2;_0x2698cf(0xd5,')V@&')!==_0x2698cf(0xf4,'3qgU')?_0x2c0e53['has_related_goods']=![]:(_0x2452d3[_0x2698cf(0x75,']1uN')]=_0x2698cf(0xd1,'yy*W'),_0x2452d3['end_time']=_0x19ae9d[_0x2698cf(0xed,'Lo17')]);});}),body=JSON[_0x4686d4(0x10e,'yy*W')](obj);}catch(_0x11e461){console[_0x4686d4(0xad,'EIDe')](_0x4686d4(0x93,'a*T6')+_0x11e461);}break;case/api\/sns\/v\d\/homefeed\?/[_0x4686d4(0x118,'uk^l')]($request['url']):try{let obj=JSON[_0x4686d4(0xdb,'h77o')](body);obj[_0x4686d4(0xbe,'I%45')]=obj[_0x4686d4(0x11f,'kOVi')]['filter'](_0x397204=>!_0x397204[_0x4686d4(0xa5,'3qgU')]),body=JSON[_0x4686d4(0xb2,'cM#*')](obj);}catch(_0x184c2a){console[_0x4686d4(0xa2,']1uN')](_0x4686d4(0x76,'jES5')+_0x184c2a);}break;case/api\/sns\/v\d+\/search\/notes\?/['test']($request[_0x4686d4(0xfe,'ktyk')]):try{let obj=JSON[_0x4686d4(0x90,'iYQQ')](body);obj['data'][_0x4686d4(0xa1,'qOG4')]=obj['data'][_0x4686d4(0x114,'sGMz')][_0x4686d4(0x7d,']1uN')](_0xbcdc84=>!_0xbcdc84[_0x4686d4(0x11e,'#R8n')]),body=JSON[_0x4686d4(0xbf,'*[kr')](obj);}catch(_0x1b9f70){console[_0x4686d4(0x83,'(NPj')](_0x4686d4(0xda,'8N[g')+_0x1b9f70);}break;case/api\/sns\/v\d\/system_service\/config\?/[_0x4686d4(0x10b,'g[AP')]($request['url']):try{let obj=JSON[_0x4686d4(0xb3,'BUoV')](body);const propertiesToDelete=[_0x4686d4(0xe8,']1uN'),_0x4686d4(0x9c,'jES5'),_0x4686d4(0xdc,'W5Kp'),_0x4686d4(0xd0,'cM#*'),'cmt_words',_0x4686d4(0x8b,'kGLG')];for(const prop of propertiesToDelete){obj['data']?.[prop]&&delete obj[_0x4686d4(0x74,'iYQQ')][prop];}body=JSON[_0x4686d4(0x91,'EIDe')](obj);}catch(_0xd8acc0){console[_0x4686d4(0x7b,'yy*W')](_0x4686d4(0x11c,'OEX6')+_0xd8acc0);}break;default:$done({});break;}$done({'body':body});}else $done({});var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
