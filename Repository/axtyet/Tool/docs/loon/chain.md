## 2.5 代理链


**代理链（Proxy Chain）** 是指将多个代理服务器按照一定的顺序连接起来形成的链式结构。

当用户通过代理链发送网络请求时，请求会依次经过每个代理服务器，每个代理服务器都会进行相应的处理和转发。

### 2.5.1 代理链的作用

1. 实现多重代理，增加网络请求的匿名性和安全性。
2. 隐藏自己的真实 IP 地址，使网络请求的来源更加隐秘。
3. 绕过网络封锁或访问受限制的内容，因为请求经过多个代理服务器，可以改变请求的出口IP地址，从而绕过一些地理限制或封锁机制。

⚠️注意：

使用代理链时需要选择可信的代理服务器，并确保代理服务器之间的连接和配置正确，以避免信息泄露或请求失败的问题。

此外，使用代理链可能会对网络请求的速度和性能产生一定的影响。(整体速度取决于最慢的服务器，代理链越长对速度的影响越大)

由于请求会经过链中的每个节点处理和转发，所以**每个节点都会消耗相同的流量**，比如下载1G的电影，链中的每个节点都会消耗1G流量。

### 2.5.2 配置代理链

以下主要讲的是 `[Proxy Chain]` 区块下的内容，所以示例都以 `[Proxy Chain]` 开头表明在其之下，并不是让你每个参数字段前都加上 `[Proxy Chain]`。



<img src="https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Photo/2.5.2.PNG" width="1200">


配置文件写法：

```
[Proxy Chain]
# 代理链名称 = 策略组1,节点2，udp=true
🇺🇸 𝗦𝗮𝗹𝘁𝘆𝗙𝗶𝘀𝗵 𝗖𝗵𝗮𝗶𝗻 = 美国节点,🇺🇸 𝗦𝗮𝗹𝘁𝘆𝗙𝗶𝘀𝗵 𝗔𝗻𝗻𝗶𝘃ᵀ, udp=true
```


⚠️注意：

- 代理链策略组中**不能选择DIRECT、REJECT类型**的策略
- 代理链策略组中**不能选择订阅节点集合、过滤节点集合**，只能选择**单个节点**或者**其他策略组**
- 代理链在展开后，**相近的两个链节点不能出现相同的节点**，否则会造成死循环
- Loon 3.1.0（build 581）开始代理链已经**支持 UDP 中继**，可以给 WireGuard 设置前置节点
- Loon 3.1.0（build 582）开始支持将**同一个 WireGuard 节点添加到多个的代理链中**（需要服务器支持相同密钥可以多客户端登录连接）



